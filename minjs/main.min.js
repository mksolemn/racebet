$(document).ready(function(){var e={};e={filterElement:".filters",raceElement:"#odds",handlebarsPlaceholder:".handlebars-placeholder",filteredArray:[],filteredData:[],checkboxFilter:function(){var e=this;$(this.filterElement).find("input").each(function(){$(this).is(":checked")&&e.filteredArray.push($(this).parent().attr("class"))}),$(this.filterElement).on("change","input",function(){if(e.filteredData=[],e.filteredArray.includes($(this).parent().attr("class"))){var t=e.filteredArray.indexOf($(this).parent().attr("class"));t>-1&&e.filteredArray.splice(t,1)}else e.filteredArray.push($(this).parent().attr("class"));e.fetchData(e.filteredArray)})},fetchData:function(e){var t=this;$.ajax({type:"GET",url:"../data/next_races.json",dataType:"JSON",success:function(e){t.dataObject=e.data,t.findMatches()}})},findMatches:function(){for(var e=this,t=0;e.dataObject.races.length>t;t+=1)for(var a=e.dataObject.races[t].race_type,r=0;e.filteredArray.length>r;r+=1)a==e.filteredArray[r]&&e.filteredData.push(e.dataObject.races[t]);this.findBiggest()},findBiggest:function(){var e,t=0;for(console.log("received data object"),console.log(this.filteredData),e=0;this.filteredData.length>e;e+=1)this.filteredData[e].purse.amount>t&&(t=this.filteredData[e].purse.amount),console.log("Highest value: "+t+" || index "+e),console.log(this.filteredData[e]);console.log("outside index: "+parseInt(e)),this.handlebarsInit()},handlebarsInit:function(e){console.log("object passed to handlebars"),console.log(this.filteredData),$(this.handlebarsPlaceholder).empty();var t=this.filteredData,a=$(this.raceElement).html(),r=Handlebars.compile(a);$(this.handlebarsPlaceholder).append(r(t))}},e.fetchData(),e.checkboxFilter()});